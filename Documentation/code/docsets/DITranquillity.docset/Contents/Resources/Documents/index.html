<!DOCTYPE html>
<html lang="en">
  <head>
    <title>DITranquillity  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="DITranquillity  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">DITranquillity 3.8.0 Docs</a> (88% documented)</p>
        <p class="header-right"><a href="https://github.com/ivlevAstef/DITranquillity"><img src="img/gh.png"/>View on GitHub</a></p>
        <p class="header-right"><a href="dash-feed://https%3A%2F%2Fgithub%2Ecom%2FivlevAstef%2FDITranquillity%2Fcode%2Fdocsets%2FDITranquillity%2Exml"><img src="img/dash.png"/>Install in Dash</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">DITranquillity Reference</a>
        <img id="carat" src="img/carat.png" />
        DITranquillity  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes.html#/s:14DITranquillity5DIArgC">DIArg</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes.html#/s:14DITranquillity7DIByTagC">DIByTag</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DICacheStorage.html">DICacheStorage</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DIComponentBuilder.html">DIComponentBuilder</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DICompositeStorage.html">DICompositeStorage</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DIContainer.html">DIContainer</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DIExtensions.html">DIExtensions</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes.html#/s:14DITranquillity6DIManyC">DIMany</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes.html#/s:14DITranquillity17DIManyInFrameworkC">DIManyInFramework</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DIScope.html">DIScope</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DIStoryboard.html">DIStoryboard</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes.html#/s:14DITranquillity11InternalArgC">InternalArg</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes.html#/s:14DITranquillity14InternalByManyC">InternalByMany</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes.html#/s:14DITranquillity25InternalByManyInFrameworkC">InternalByManyInFramework</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes.html#/s:14DITranquillity13InternalByTagC">InternalByTag</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/DILifeTime.html">DILifeTime</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/DILifeTime/ReferenceCounting.html">– ReferenceCounting</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/DILogLevel.html">DILogLevel</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/Lazy.html">Lazy</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Provider.html">Provider</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Provider1.html">Provider1</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Provider2.html">Provider2</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Provider3.html">Provider3</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Provider4.html">Provider4</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Provider5.html">Provider5</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions.html#/s:14DITranquillity1mopyxAA11DIContainerClF">*(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:14DITranquillity3argyxAA5DIArgCyxGlF">arg(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:14DITranquillity2by3tag2onq_xm_AA7DIByTagCyxq_Gtr0_lF">by(tag:on:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:14DITranquillity2by4tags__2onq1_xm_q_mq0_mAA7DIByTagCyxAFyq_AFyq0_q1_GGGtr2_lF">by(tags:_:_:on:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:14DITranquillity2by4tags_2onq0_xm_q_mAA7DIByTagCyxAFyq_q0_GGtr1_lF">by(tags:_:on:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:14DITranquillity4manyySayxGAA6DIManyCyxGlF">many(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:14DITranquillity15manyInFrameworkySayxGAA06DIManycD0CyxGlF">manyInFramework(_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/DIFramework.html">DIFramework</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/DIPart.html">DIPart</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/DIStorage.html">DIStorage</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/DIComponentInfo.html">DIComponentInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/DISetting.html">DISetting</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/DISetting/Defaults.html">– Defaults</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/DISetting/Log.html">– Log</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:14DITranquillity7DIATypea">DIAType</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:14DITranquillity9DILogFunca">DILogFunc</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:14DITranquillity5DITaga">DITag</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <p><a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage compatible"></a>
<a href="http://cocoapods.org/pods/DITranquillity"><img src="https://img.shields.io/cocoapods/v/DITranquillity.svg?style=flat" alt="CocoaPods Version"></a>
<a href="http://cocoapods.org/pods/DITranquillity"><img src="https://img.shields.io/github/license/ivlevAstef/DITranquillity.svg?maxAge=2592000" alt="License"></a>
<a href="http://cocoapods.org/pods/DITranquillity"><img src="https://img.shields.io/cocoapods/p/DITranquillity.svg?style=flat" alt="Platform"></a>
<a href="https://developer.apple.com/swift"><img src="https://img.shields.io/badge/Swift-3.0--5.0-F16D39.svg?style=flat" alt="Swift Version"></a></p>
<h1 id='ditranquillity' class='heading'>DITranquillity</h1>

<p>The small library for <a href="https://en.wikipedia.org/wiki/Dependency_injection">dependency injection</a> in applications written on pure Swift for iOS/OSX/tvOS. Despite its size, it solves a large enough range of tasks, including Storyboard support. Its main advantage -  modularity of support, detailed errors description and lots of opportunities.</p>
<h2 id='features' class='heading'>Features</h2>

<p><img align="right" src="https://habrastorage.org/files/c6d/c89/5d0/c6dc895d02324b96bc679f41228ab6bf.png" alt="Tranquillity">  </p>

<ul>
<li>Pure Swift Type Support</li>
<li>Initializer injections <a href="Documentation/ru/registration.md#%D0%A0%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B7%D0%B0%D0%B2%D0%B8%D1%81%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D0%B5%D0%B9-%D0%BF%D1%80%D0%B8-%D0%B8%D0%BD%D0%B8%D1%86%D0%B8%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8">ru</a></li>
<li>Property, Method injections <a href="Documentation/ru/injection.md#%D0%92%D0%BD%D0%B5%D0%B4%D1%80%D0%B5%D0%BD%D0%B8%D0%B5">ru</a></li>
<li>Named, Tags definitions and Many <a href="Documentation/ru/modificators.md#%D0%9C%D0%BE%D0%B4%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%82%D0%BE%D1%80%D1%8B">ru</a></li>
<li>Type forwarding <a href="Documentation/ru/registration.md#%D0%A3%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%B8%D0%B5-%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%BE%D0%B2">ru</a></li>
<li>Lifetimes: single, perRun(weak/strong), perContainer(weak/strong), objectGraph, prototype, custom <a href="Documentation/ru/lifetime.md#%D0%92%D1%80%D0%B5%D0%BC%D1%8F-%D0%B6%D0%B8%D0%B7%D0%BD%D0%B8">ru</a></li>
<li>iOS/macOS Storyboard and StoryboardReference <a href="Documentation/ru/storyboard.md#storyboard">ru</a></li>
<li>Circular dependencies <a href="Documentation/ru/injection.md#%D0%92%D0%BD%D0%B5%D0%B4%D1%80%D0%B5%D0%BD%D0%B8%D0%B5-%D1%86%D0%B8%D0%BA%D0%BB%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D1%85-%D0%B7%D0%B0%D0%B2%D0%B8%D1%81%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D0%B5%D0%B9-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-%D1%81%D0%B2%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0">ru</a></li>
<li>Three level hierarchy: types, part, framework <a href="Documentation/ru/part_framework.md#%D0%A7%D0%B0%D1%81%D1%82%D0%B8-%D0%B8-%D0%A4%D1%80%D0%B5%D0%B9%D0%BC%D0%B2%D0%BE%D1%80%D0%BA%D0%B8">ru</a></li>
<li>Short resolve syntax <a href="Documentation/ru/resolve.md#%D0%A0%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B7%D0%B0%D0%B2%D0%B8%D1%81%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D0%B5%D0%B9">ru</a></li>
<li>keyPath injection (since swift4.0) <a href="Documentation/ru/injection.md#%D0%92%D0%BD%D0%B5%D0%B4%D1%80%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B7%D0%B0%D0%B2%D0%B8%D1%81%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D0%B5%D0%B9-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-%D1%81%D0%B2%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D1%8F-keypath">ru</a></li>
<li>Very detail logs <a href="Documentation/ru/log.md#%D0%9B%D0%BE%D0%B3%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">ru</a></li>
<li>Validation at the run app <a href="Documentation/ru/validation.md#%D0%92%D0%B0%D0%BB%D0%B8%D0%B4%D0%B0%D1%86%D0%B8%D1%8F-%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%B9%D0%BD%D0%B5%D1%80%D0%B0">ru</a></li>
<li>Injection into Subviews and cells <a href="Documentation/ru/storyboard.md#%D0%92%D0%BD%D0%B5%D0%B4%D1%80%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B2-subview-%D0%B8-%D1%8F%D1%87%D0%B5%D0%B9%D0%BA%D0%B8">ru</a></li>
<li>Support Delayed injection <a href="Documentation/ru/delayed_injection.md#%D0%9E%D1%82%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%BD%D0%BE%D0%B5-%D0%B2%D0%BD%D0%B5%D0%B4%D1%80%D0%B5%D0%BD%D0%B8%D0%B5">ru</a></li>
<li>Injection with arguments at any depth</li>
<li>Container Hierarchy</li>
<li>Thread safe</li>
</ul>
<h3 id='helpful-links' class='heading'>Helpful links</h3>

<ul>
<li>Read the Quick Start <a href="Documentation/ru/quick_start.md#%D0%91%D1%8B%D1%81%D1%82%D1%80%D1%8B%D0%B9-%D1%81%D1%82%D0%B0%D1%80%D1%82">ru</a> / <a href="Documentation/en/Ups.md"><del>en</del></a></li>
<li>Or documentation <a href="Documentation/ru/main.md">ru</a> / <a href="Documentation/en/Ups.md"><del>en</del></a></li>
<li>Samples <a href="Documentation/ru/sample.md">ru</a> / <a href="Samples">en</a></li>
<li>Also see <a href="https://htmlpreview.github.io/?https://github.com/ivlevAstef/DITranquillity/blob/master/Documentation/code/index.html">code documentation</a></li>
</ul>
<h2 id='usage' class='heading'>Usage</h2>
<pre class="highlight plaintext"><code>// container - for register and resolve your types
let container = DIContainer()

container.register{ Cat(name: "Felix") }
  .as(Animal.self) // register Cat with name felix by protocol Animal
  .lifetime(.prototype) // set lifetime

container.register(PetOwner.init) // register PetOwner

// you can validate you registrations graph
if !container.validate() {
  fatalError("...")
}

.................................................

// get instance of a types from the container
let owner: PetOwner = container.resolve()
let animal: Animal = *container // short syntax

print(owner.pet.name) // "Felix"
print(animal.name) // "Felix"

.................................................

// where
protocol Animal {
  var name: String { get }
}

class Cat: Animal {
  let name: String
  init(name: String) {
    self.name = name
  }
}

class PetOwner {
  let pet: Animal
  init(pet: Animal) {
    self.pet = pet
  }
}
</code></pre>

<details>
<summary>See More</summary>

&ldquo;`Swift
let container = DIContainer()

container.register{ Cat(name: &quot;Felix&rdquo;) }
  .as(Animal.self)
  
container.register{ Dog(name: &ldquo;Rex&rdquo;) }
  .as(Animal.self)
  .default()

container.register{ PetOwner(pets: many($0)) }
  .injection(.home) // since swift4.0 and 3.2.0 lib

container.register(Home.init)
  .postInit{ $0.address = &ldquo;City, Street, Number&rdquo; }

&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.

let owner: PetOwner = *container

print(owner.pets.map{ $0.name }) // [&ldquo;Felix&rdquo;, &ldquo;Rex&rdquo;]
print(onwer.home.address) // &ldquo;City, Street, Number&rdquo;

&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.

// where
protocol Animal {
  var name: String { get }
}

class Cat: Animal {
  let name: String
  init(name: String) {
    self.name = name
  }
}

class Dog: Animal {
  let name: String
  init(name: String) {
    self.name = name
  }
}

class PetOwner {
  let pets: [Animal]
  init(pets: [Animal]) {
    self.pets = pets
  }
  
  private(set) var home: Home!
}

class Home {
  var address: String!
}
&ldquo;`
</details>
<h3 id='storyboard-ios-os-x' class='heading'>Storyboard (iOS/OS X)</h3>

<details>
<summary>See code</summary>

Create your ViewController:
&rdquo;`Swift
class ViewController: UIViewController/NSViewController {
  private(set) var inject: Inject?

  override func viewDidLoad() {
    super.viewDidLoad()
    print(&ldquo;Inject: \(inject)&rdquo;)
  }
}
&ldquo;`
Create container:
&rdquo;`Swift
let container = DIContainer()
container.register(ViewController.self)
  .injection(.inject)
&ldquo;`
Create Storyboard:
&rdquo;`Swift
/// for iOS
func applicationDidFinishLaunching(_ application: UIApplication) {
  let storyboard = DIStoryboard.create(name: &ldquo;Main&rdquo;, bundle: nil, container: container)

  window = UIWindow(frame: UIScreen.main.bounds)
  window!.rootViewController = storyboard.instantiateInitialViewController()
  window!.makeKeyAndVisible()
}
&ldquo;`

&rdquo;`Swift
/// for OS X
func applicationDidFinishLaunching(_ aNotification: Notification) {
  let storyboard = DIStoryboard.create(name: &ldquo;Main&rdquo;, bundle: nil, container: container)

  let viewController = storyboard.instantiateInitialController() as! NSViewController
  let window = NSApplication.shared.windows.first
  window?.contentViewController = viewController
}
&ldquo;`

</details>
<h2 id='install' class='heading'>Install</h2>
<h6 id='via-cocoapods' class='heading'>Via CocoaPods.</h6>

<p>To install DITranquillity with CocoaPods, add the following lines to your Podfile: <code>pod &#39;DITranquillity&#39;</code>  </p>
<h6 id='via-carthage' class='heading'>Via Carthage.</h6>

<p><code>github &quot;ivlevAstef/DITranquillity&quot;</code> Swift (iOS8+,macOS10.10+,tvOS9+)</p>
<h2 id='requirements' class='heading'>Requirements</h2>

<p>iOS 8.0+,macOS 10.10+,tvOS 9.0+; ARC</p>

<ul>
<li>Swift 5.0: Xcode 10.2; version &gt;= 3.6.3</li>
<li>Swift 4.2: Xcode 10; version &gt;= 3.4.3</li>
<li>Swift 4.1: Xcode 9.3; version &gt;= 3.2.3</li>
<li>Swift 4.0: Xcode 9.0; version &gt;= 3.0.5</li>
<li>Swift 3.0-3.2: Xcode 8.0-9.0; 0.9.5 &lt;= version &lt; 3.7.0</li>
<li>Swift 2.3: Xcode 7.0; version &lt; 0.9.5</li>
</ul>
<h2 id='migration' class='heading'>Migration</h2>

<ul>
<li>v1.x.x -&gt; v2.x.x <a href="Documentation/ru/migration1to2.md">ru</a></li>
<li>v2.x.x -&gt; v3.x.x <a href="Documentation/ru/migration2to3.md">ru</a></li>
</ul>
<h2 id='changelog' class='heading'>Changelog</h2>

<p>See <a href="CHANGELOG.md">CHANGELOG.md</a> file.</p>
<h2 id='feedback' class='heading'>Feedback</h2>
<h3 id='i-39-ve-found-a-bug-or-have-a-feature-request' class='heading'>I&rsquo;ve found a bug, or have a feature request</h3>

<p>Please raise a <a href="https://github.com/ivlevAstef/DITranquillity/issues">GitHub issue</a>.</p>
<h3 id='i-39-ve-found-a-defect-in-documentation-or-thought-up-how-to-improve-it' class='heading'>I&rsquo;ve found a defect in documentation, or thought up how to improve it</h3>

<p>Please help library development and create <a href="https://github.com/ivlevAstef/DITranquillity/pulls">pull requests</a></p>
<h3 id='question' class='heading'>Question?</h3>

<p>You can feel free to ask the question at e-mail: <a href="mailto:ivlev.stef@gmail.com">ivlev.stef@gmail.com</a>.  </p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2019 <a class="link" href="https://github.com/ivlevAstef" target="_blank" rel="external">Ivlev</a>. All rights reserved. (Last updated: 2019-09-05)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.10.0</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
